schema: '2.0'
stages:
  prepare:
    cmd: python3 postcode/prepare.py input/onspd.csv.gz
    deps:
    - path: input/onspd.csv.gz
      md5: 2ba7690c503702e6de9748907519c3f3
      size: 81564898
    - path: postcode/config.py
      md5: 2755dab743c4491aa752f1bf9afba494
      size: 321
    - path: postcode/prepare.py
      md5: d5f3fd893d234ebf6859ccaf703a917e
      size: 1359
    outs:
    - path: working/
      md5: bbcab57f402a746215b66f4827253520.dir
      size: 45048102
      nfiles: 1
  build:
    cmd: python3 postcode/build.py output/onspd-extract.csv
    deps:
    - path: postcode/build.py
      md5: b03170927713d2606fa987b8156eb04a
      size: 649
    - path: postcode/config.py
      md5: 2755dab743c4491aa752f1bf9afba494
      size: 321
    - path: working/postcodes.parquet
      md5: fbf7176a27120ba8c8fb78bbe4596b7b
      size: 45056667
    outs:
    - path: output/onspd-extract.csv
      md5: b527f4a308cb738f244a53c8a164d88c
      size: 129321340
